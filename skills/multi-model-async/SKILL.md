# Multi-Model Async Task System (å¤šæ¨¡å‹å¼‚æ­¥ä»»åŠ¡ç³»ç»Ÿ)

## ç›®çš„
åˆ©ç”¨ä¸åŒ AI æ¨¡å‹çš„ç‰¹é•¿æ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼ŒåŒæ—¶ä¿æŒä¸»ä¼šè¯æµç•…ï¼Œä¸é˜»å¡å¯¹è¯ã€‚

## âš ï¸ é‡è¦é…ç½®é¡»çŸ¥ (API Key é…ç½®) â­ **2026-02-15 æ–°å¢**

### å…³é”®ç»éªŒï¼šä¸åŒå‚å•† = ä¸åŒ API Key

**é—®é¢˜æè¿°**ï¼š
- é…ç½®ä¸­å¤šä¸ªæ¨¡å‹å¯èƒ½å±äºä¸åŒå‚å•†/æä¾›å•†
- æ¯ä¸ªå‚å•†éœ€è¦**ç‹¬ç«‹çš„ API Key**
- æ··æ·† Key ä¼šå¯¼è‡´ 401 æœªæˆæƒé”™è¯¯

### å½“å‰é…ç½®çš„æ¨¡å‹å½’å±

| æ¨¡å‹ | æ‰€å±å‚å•† | Base URL | API Key æ¥æº |
|------|---------|----------|-------------|
| **GLM-5** | æ™ºè°± AI (Zhipu) | `https://open.bigmodel.cn/api/coding/paas/v4` | `zai:default` |
| **Kimi** | Moonshot | `https://api.moonshot.cn/v1` | `moonshot:default` |
| **Gemini/GPT-5** | OpenRouter | `https://openrouter.ai/api/v1` | `openrouter:default` |

### API Key å­˜å‚¨ä½ç½®

**é…ç½®æ–‡ä»¶**ï¼š`auth-profiles.json`

**æ–‡ä»¶è·¯å¾„**ï¼š
```
C:\Users\{username}\.openclaw\agents\main\agent\auth-profiles.json
```

**å®é™…è·¯å¾„**ï¼ˆå½“å‰ç³»ç»Ÿï¼‰ï¼š
```
C:\Users\31509\.openclaw\agents\main\agent\auth-profiles.json
```

**æ–‡ä»¶å†…å®¹ç¤ºä¾‹**ï¼š
```json
{
  "moonshot:default": {
    "apiKey": "sk-...",
    "provider": "moonshot"
  },
  "openrouter:default": {
    "apiKey": "sk-or-v1-...",
    "provider": "openrouter"
  },
  "zai:default": {
    "apiKey": "sk-...",
    "provider": "zai"
  }
}
```

**æ³¨æ„**ï¼š
- `openclaw.json` åªä¿å­˜é…ç½®ï¼ˆå¦‚ baseUrlã€æ¨¡å‹åˆ—è¡¨ï¼‰
- **å®é™…çš„ API Key å­˜å‚¨åœ¨ `auth-profiles.json`**
- æ¯ä¸ªå‚å•†å¯¹åº”ä¸€ä¸ª profileï¼ˆå¦‚ `moonshot:default`, `openrouter:default`ï¼‰

---

### é…ç½®æ£€æŸ¥æ¸…å•

è°ƒç”¨æ¨¡å‹å‰ï¼Œå¿…é¡»ç¡®è®¤ï¼š

```
1. è¯¥æ¨¡å‹å±äºå“ªä¸ªå‚å•†ï¼Ÿ
   â†’ æŸ¥çœ‹ openclaw.json models.providers.{å‚å•†}

2. è¯¥å‚å•†çš„ API Key æ˜¯å¦å·²é…ç½®ï¼Ÿ
   â†’ æŸ¥çœ‹ auth.profiles.{å‚å•†}:default

3. ä½¿ç”¨çš„ Key æ˜¯å¦æ­£ç¡®ï¼Ÿ
   â†’ OpenRouter Key ä¸èƒ½ç”¨äº Zhipu
   â†’ Zhipu Key ä¸èƒ½ç”¨äº OpenRouter
   â†’ å„å‚å•† Key äº’ä¸é€šç”¨
```

### å¸¸è§é”™è¯¯

**é”™è¯¯ 1ï¼šKey æ··æ·†**
```python
# âŒ é”™è¯¯ï¼šç”¨ OpenRouter Key è°ƒç”¨ Zhipu API
API_KEY = "sk-or-v1-..."  # OpenRouter Key
API_URL = "https://open.bigmodel.cn/..."  # Zhipu ç«¯ç‚¹
# ç»“æœï¼š401 Unauthorized

# âœ… æ­£ç¡®ï¼šZhipu Key + Zhipu ç«¯ç‚¹
API_KEY = "sk-..."  # Zhipu Key
API_URL = "https://open.bigmodel.cn/..."  # Zhipu ç«¯ç‚¹
```

**é”™è¯¯ 2ï¼šæ¨¡å‹ ID æ··æ·†**
```python
# âŒ é”™è¯¯ï¼šç›´æ¥è°ƒç”¨å‚å•†åŸç”Ÿæ¨¡å‹ ID
model = "glm-5"  # è¿™æ˜¯ Zhipu åŸç”Ÿ ID
API_URL = "https://openrouter.ai/..."  # ä½†ç”¨ OpenRouter ç«¯ç‚¹

# âœ… æ­£ç¡®ï¼šé€šè¿‡ OpenRouter è°ƒç”¨æ—¶çš„æ¨¡å‹ ID
model = "z-ai/glm-5"  # OpenRouter æ ¼å¼çš„æ¨¡å‹ ID
API_URL = "https://openrouter.ai/..."
```

### è°ƒè¯•æ­¥éª¤

é‡åˆ° 401 é”™è¯¯æ—¶ï¼š

1. **æ£€æŸ¥æ¨¡å‹å½’å±**
   ```bash
   grep -A 5 "æ¨¡å‹å" openclaw.json
   ```

2. **æ£€æŸ¥å¯¹åº” Key é…ç½®**
   ```bash
   grep -A 3 "å‚å•†:default" openclaw.json
   ```

3. **éªŒè¯ Key æœ‰æ•ˆæ€§**
   - ç›´æ¥ curl å‚å•†å¥åº·æ£€æŸ¥æ¥å£
   - æˆ–åœ¨å‚å•†å®˜ç½‘æµ‹è¯• Key

4. **ç¡®è®¤ç«¯ç‚¹ URL**
   - ä¸èƒ½æ··ç”¨å‚å•†ç«¯ç‚¹å’Œç¬¬ä¸‰æ–¹ç«¯ç‚¹

---

## æ”¯æŒçš„æ¨¡å‹

| æ¨¡å‹ | ç‰¹é•¿ | é€‚ç”¨åœºæ™¯ | é¢„ä¼°æ—¶é—´ |
|------|------|---------|---------|
| **Claude** | æ·±åº¦æ¨ç†ã€åˆ†æ | æ–‡æ¡£åˆ†æã€å¤æ‚é—®é¢˜ | 2-5åˆ†é’Ÿ |
| **GPT-4** | ä»£ç ç”Ÿæˆ | ç¼–ç¨‹ã€æŠ€æœ¯å®ç° | 1-3åˆ†é’Ÿ |
| **Gemini 3 Pro** | é•¿ä¸Šä¸‹æ–‡ | é•¿æ–‡æ¡£å¤„ç†ã€æ€»ç»“ | 2-4åˆ†é’Ÿ |
| **Gemini Image** | å›¾ç‰‡ç”Ÿæˆ | UIè®¾è®¡ã€æ¦‚å¿µå›¾ | 1-2åˆ†é’Ÿ |

---

## ä»»åŠ¡è°ƒåº¦æ–¹å¼å¯¹æ¯” â­ **2026-02-15 æ–°å¢**

### sessions_spawn vs cron

ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥è°ƒç”¨å…¶ä»–æ¨¡å‹ï¼Œä½†é€‚ç”¨åœºæ™¯ä¸åŒï¼š

| ç‰¹æ€§ | `sessions_spawn` | `cron` |
|------|------------------|--------|
| **å¯åŠ¨æ—¶é—´** | ç«‹å³ï¼ˆæˆ–å‡ ç§’å†…ï¼‰ | æŒ‰æŒ‡å®šæ—¶é—´/at/æ¯Xåˆ†é’Ÿ |
| **é€‚ç”¨åœºæ™¯** | å½“å‰å°±è¦æ‰§è¡Œçš„è°ƒç ”/åˆ†æ | å®šæ—¶æé†’ã€å»¶è¿Ÿæ‰§è¡Œã€å‘¨æœŸæ€§ä»»åŠ¡ |
| **ä¸»æ¨¡å‹ä¿æŒ** | âœ… æ”¯æŒï¼ˆç”¨ `model` å‚æ•°æŒ‡å®šï¼‰ | âœ… æ”¯æŒ |
| **å…¸å‹ç”¨æ³•** | ç«‹å³è®©å¦ä¸€ä¸ªæ¨¡å‹å¹²æ´» | 5åˆ†é’Ÿåè®©å¦ä¸€ä¸ªæ¨¡å‹å¹²æ´» |

### å¦‚ä½•é€‰æ‹©ï¼Ÿ

| ä½ æƒ³è¯´ | å®é™…ä½¿ç”¨ |
|--------|---------|
| "é©¬ä¸Šè®©å¦ä¸€ä¸ªæ¨¡å‹å¹²æ´»" | `sessions_spawn` |
| "5åˆ†é’Ÿåè®©å¦ä¸€ä¸ªæ¨¡å‹å¹²æ´»" | `cron` |
| "æ¯å¤©å®šæ—¶æŠ¥å‘Š" | `cron` |

### ä»£ç å¯¹æ¯”

**sessions_spawnï¼ˆç«‹å³æ‰§è¡Œï¼‰ï¼š**
```json
sessions_spawn:
  model: "zai/glm-5"  // å­ä¼šè¯ç”¨ glm-5
  task: "è°ƒç ”..."      // ç«‹å³å¼€å§‹
```

**cronï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼‰ï¼š**
```json
cron add:
  schedule: { "kind": "at", "at": "2026-02-15T21:00:00" }
  payload: { "kind": "agentTurn", "model": "zai/glm-5" }
```

---

## ä½¿ç”¨æŒ‡ä»¤

### ğŸ¯ æ™ºèƒ½ä»»åŠ¡åˆ†é…ï¼ˆæ¨èï¼‰

**æ— éœ€æŒ‡å®šæ¨¡å‹**ï¼Œæ ¹æ®ä»»åŠ¡å†…å®¹è‡ªåŠ¨åŒ¹é…æœ€ä½³æ¨¡å‹ï¼š

```
ä½ ï¼šå¸®æˆ‘åˆ†æè¿™ä»½è´¢åŠ¡æŠ¥è¡¨çš„æ•°æ®è¶‹åŠ¿
æˆ‘ï¼šâœ… å·²è¯†åˆ«ä¸ºã€åˆ†æç±»ä»»åŠ¡ã€‘ï¼Œåˆ†é…ç»™ Claude
   é¢„è®¡ 3 åˆ†é’Ÿåå®Œæˆ â±ï¸
```

**è‡ªåŠ¨åŒ¹é…è§„åˆ™**ï¼š

| ä»»åŠ¡ç±»å‹ | æ£€æµ‹å…³é”®è¯ | é»˜è®¤æ¨¡å‹ | é€‚ç”¨åœºæ™¯ |
|---------|-----------|---------|---------|
| **åˆ†æ** | åˆ†æã€è§£æã€æ·±åº¦ã€ç ”ç©¶ | Claude | æ•°æ®åˆ†æã€æ–‡æ¡£å®¡æŸ¥ |
| **ä»£ç ** | ä»£ç ã€ç¼–ç¨‹ã€å®ç°ã€å¼€å‘ | GPT-4 | ç¨‹åºå¼€å‘ã€æŠ€æœ¯å®ç° |
| **å›¾ç‰‡** | å›¾ç‰‡ã€ç”»å›¾ã€UIã€è®¾è®¡ | Gemini Image | å›¾åƒç”Ÿæˆã€UIè®¾è®¡ |
| **æ–‡æ¡£** | æ–‡æ¡£ã€æ€»ç»“ã€æ‘˜è¦ã€æŠ¥å‘Š | Gemini Pro | é•¿æ–‡å¤„ç†ã€å†…å®¹æ€»ç»“ |
| **æœç´¢** | æœç´¢ã€æŸ¥æ‰¾ã€æœ€æ–°ã€æ–°é—» | Claude | ä¿¡æ¯æ£€ç´¢ã€äº‹å®æŸ¥è¯¢ |

### 1. æäº¤å¼‚æ­¥ä»»åŠ¡

**æ–¹å¼ A - æ™ºèƒ½åˆ†é…ï¼ˆæ¨èï¼‰**ï¼š
```
å¸®æˆ‘åˆ†æè¿™ä»½å¸‚åœºæŠ¥å‘Š
â†“
è‡ªåŠ¨åˆ†é…ç»™ Claude
```

**æ–¹å¼ B - æ˜¾å¼æŒ‡å®šæ¨¡å‹**ï¼š
```
[æ¨¡å‹å] [åŠ¨ä½œ]: [ä»»åŠ¡æè¿°]

ç¤ºä¾‹ï¼š
- Claude åˆ†æ: åˆ†æè¿™ä»½å¸‚åœºæŠ¥å‘Š
- GPT-4 å†™ä»£ç : ç”¨ Python å®ç°é‚®ä»¶å‘é€å™¨
- Gemini ç”»å›¾: ç°ä»£åŒ–ç™»å½•é¡µé¢ UI
```

### 2. æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€

**æŒ‡ä»¤**ï¼š`ä»»åŠ¡çŠ¶æ€` æˆ– `æŸ¥çœ‹ä»»åŠ¡`

**è¿”å›**ï¼š
```
è¿›è¡Œä¸­çš„ä»»åŠ¡ï¼š
1. [Claude] åˆ†æå¸‚åœºæŠ¥å‘Š - è¿˜å‰© 2 åˆ†é’Ÿ â³
2. [GPT-4] å†™é‚®ä»¶å‘é€å™¨ - è¿˜å‰© 1 åˆ†é’Ÿ â³

å·²å®Œæˆçš„ä»»åŠ¡ï¼š
- [Gemini] ç”Ÿæˆç™»å½• UI - å·²å®Œæˆ âœ…
```

### 3. å–æ¶ˆä»»åŠ¡

**æŒ‡ä»¤**ï¼š`å–æ¶ˆä»»åŠ¡ [ç¼–å·]`

---

## æ‰§è¡Œæµç¨‹

### Step 1: è§£ææŒ‡ä»¤
```
ç”¨æˆ·è¾“å…¥: "Claude åˆ†æ: è¿™ä¸ªæ–‡æ¡£"
   â†“
æå–: 
  - æ¨¡å‹: Claude
  - åŠ¨ä½œ: åˆ†æ
  - ä»»åŠ¡: è¿™ä¸ªæ–‡æ¡£
```

### Step 2: åˆ›å»º Cron ä»»åŠ¡
```json
{
  "name": "claude-analysis-task-001",
  "schedule": {
    "kind": "at",
    "at": "2026-02-15T16:55:00+08:00"
  },
  "payload": {
    "kind": "agentTurn",
    "message": "è¯·åˆ†æä»¥ä¸‹å†…å®¹ï¼š...[ä»»åŠ¡è¯¦æƒ…]",
    "model": "claude-sonnet-4-5",
    "timeoutSeconds": 300
  },
  "sessionTarget": "isolated",
  "delivery": {
    "mode": "announce"
  }
}
```

### Step 3: ç«‹å³åé¦ˆ
```
âœ… ä»»åŠ¡å·²æäº¤

æ¨¡å‹: Claude (Sonnet 4.5)
ä»»åŠ¡: åˆ†ææ–‡æ¡£
é¢„è®¡å®Œæˆ: 3 åˆ†é’Ÿå (16:55)
çŠ¶æ€: â³ è¿›è¡Œä¸­

æˆ‘ä¼šè‡ªåŠ¨æŠŠç»“æœå‘ç»™ä½ ï¼Œæˆ‘ä»¬å…ˆèŠåˆ«çš„ï½
```

### Step 4: ä»»åŠ¡å®Œæˆé€šçŸ¥
```
ğŸ“‹ Claude åˆ†æå®Œæˆï¼

[åˆ†æç»“æœå†…å®¹...]

ç”¨æ—¶: 2åˆ†30ç§’
æ¨¡å‹: Claude Sonnet 4.5
```

---

## ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†

### ä»»åŠ¡çŠ¶æ€æµè½¬
```
å·²æäº¤ â†’ è¿›è¡Œä¸­ â†’ å·²å®Œæˆ
   â†“         â†“
 æ’é˜Ÿ      è¶…æ—¶/å¤±è´¥
```

### å¹¶å‘é™åˆ¶
- æœ€å¤š 3 ä¸ªä»»åŠ¡åŒæ—¶è¿›è¡Œ
- è¶…è¿‡é™åˆ¶è‡ªåŠ¨æ’é˜Ÿ

---

## å¤±è´¥å¤„ç†

### è¶…æ—¶ (>5åˆ†é’Ÿ)
- è‡ªåŠ¨é‡è¯• 1 æ¬¡
- ä»å¤±è´¥åˆ™é€šçŸ¥ç”¨æˆ·

### æ¨¡å‹ä¸å¯ç”¨
- å°è¯•é™çº§åˆ°å¤‡ç”¨æ¨¡å‹
- é€šçŸ¥ç”¨æˆ·æ¨¡å‹åˆ‡æ¢

### ä»»åŠ¡ä¸­æ–­
- ä¿å­˜ä¸­é—´ç»“æœ
- è¯¢é—®æ˜¯å¦ç»§ç»­

---

## æœ€ä½³å®è·µ

### ä½•æ—¶ä½¿ç”¨å¼‚æ­¥
âœ… é€‚åˆï¼š
- éœ€è¦æ·±åº¦åˆ†æ (>1åˆ†é’Ÿ)
- ä»£ç ç”Ÿæˆä»»åŠ¡
- å›¾ç‰‡ç”Ÿæˆ
- é•¿æ–‡æ¡£å¤„ç†

âŒ ä¸é€‚åˆï¼š
- ç®€å•é—®ç­” (ç”¨ä¸»æ¨¡å‹å³å¯)
- éœ€è¦å®æ—¶äº¤äº’çš„ä»»åŠ¡
- ä¸Šä¸‹æ–‡ä¾èµ–å¼ºçš„è¿ç»­ä»»åŠ¡

### ä»»åŠ¡æ‹†åˆ†å»ºè®®
å¤æ‚ä»»åŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªå°ä»»åŠ¡ï¼š
```
âŒ "åˆ†æè¿™ä»½100é¡µæŠ¥å‘Š"
âœ… 
  1. "Claude æ€»ç»“: æŠ¥å‘Šå¤§çº²"
  2. "Claude åˆ†æ: ç¬¬ä¸€ç« å…³é”®å‘ç°"
  3. "Claude åˆ†æ: ç¬¬äºŒç« å…³é”®å‘ç°"
```

---

## ç¤ºä¾‹å¯¹è¯

### åœºæ™¯ 1ï¼šæ™ºèƒ½åˆ†é…ï¼ˆè‡ªåŠ¨è¯†åˆ«ï¼‰
```
ä½ : å¸®æˆ‘æ·±åº¦åˆ†æè¿™ä»½äº§å“éœ€æ±‚æ–‡æ¡£çš„æ•°æ®

æˆ‘: âœ… å·²è¯†åˆ«ä¸ºã€åˆ†æç±»ä»»åŠ¡ã€‘ï¼Œåˆ†é…ç»™ Claude
   é¢„è®¡ 4 åˆ†é’Ÿåå®Œæˆ â±ï¸

[æˆ‘ä»¬ç»§ç»­èŠåˆ«çš„...]

[4åˆ†é’Ÿå]

Claude: ğŸ“‹ åˆ†æå®Œæˆï¼
   
   æ ¸å¿ƒå‘ç°ï¼š
   1. ç”¨æˆ·éœ€æ±‚ä¸»è¦é›†ä¸­åœ¨...
   2. æ•°æ®è¶‹åŠ¿åˆ†æ...
   3. æŠ€æœ¯å®ç°å»ºè®®...
```

### åœºæ™¯ 2ï¼šæ˜¾å¼æŒ‡å®šæ¨¡å‹
```
ä½ : GPT-4 å†™ä»£ç : å®ç°ä¸€ä¸ªå¸¦ç¼“å­˜çš„ HTTP è¯·æ±‚ç±»

æˆ‘: âœ… å·²æäº¤ç»™ GPT-4
   é¢„è®¡ 2 åˆ†é’Ÿåå®Œæˆ â±ï¸

[2åˆ†é’Ÿå]

GPT-4: ğŸ’» ä»£ç å·²ç”Ÿæˆï¼
   
   ```python
   class CachedHTTPClient:
       ...
   ```
```

### åœºæ™¯ 3ï¼šå›¾ç‰‡ç”Ÿæˆ
```
ä½ : å¸®æˆ‘ç”Ÿæˆä¸€å¼ ç»©æ•ˆè€ƒæ ¸ç³»ç»Ÿçš„ UI è®¾è®¡å›¾

æˆ‘: âœ… å·²è¯†åˆ«ä¸ºã€å›¾ç‰‡ç”Ÿæˆä»»åŠ¡ã€‘ï¼Œåˆ†é…ç»™ Gemini
   é¢„è®¡ 2 åˆ†é’Ÿåå®Œæˆ â±ï¸

[2åˆ†é’Ÿå]

æˆ‘: ğŸ¨ UI è®¾è®¡å›¾å·²ç”Ÿæˆï¼
   [å›¾ç‰‡]
```

---

## ç›¸å…³æ–‡ä»¶

- **ä»»åŠ¡é…ç½®**ï¼š`skills/multi-model-async/config.yaml` - é»˜è®¤ä»»åŠ¡ç±»å‹ä¸æ¨¡å‹æ˜ å°„
- **ä»»åŠ¡è®°å½•**ï¼š`memory/shared/async-tasks.json`
- **Cron é…ç½®**ï¼šGateway å®šæ—¶ä»»åŠ¡
- **ç»“æœç¼“å­˜**ï¼š`memory/shared/task-results/{task-id}.md`

## é…ç½®è¯´æ˜

### é»˜è®¤æ˜ å°„é…ç½® (`config.yaml`)

```yaml
task_defaults:
  mapping:
    analyze:
      keywords: ["åˆ†æ", "è§£æ", "æ·±åº¦", "analyze", "analysis"]
      default_model: "poloai/claude-sonnet-4-5-20250929"
    
    code:
      keywords: ["ä»£ç ", "ç¼–ç¨‹", "code", "programming"]
      default_model: "openrouter/openai/gpt-5-image"
    
    image:
      keywords: ["å›¾ç‰‡", "ç”»å›¾", "image", "draw"]
      default_model: "openrouter/google/gemini-3-pro-image-preview"
```

### è‡ªå®šä¹‰é…ç½®

ä½ å¯ä»¥ç¼–è¾‘ `config.yaml` æ¥è°ƒæ•´ï¼š
- æ·»åŠ æ–°çš„ä»»åŠ¡ç±»å‹
- ä¿®æ”¹å…³é”®è¯
- æ›´æ¢é»˜è®¤æ¨¡å‹
- è°ƒæ•´è¶…æ—¶æ—¶é—´

---

**åˆ›å»ºæ—¶é—´**: 2026-02-15  
**ç‰ˆæœ¬**: v1.2  
**çŠ¶æ€**: å·²é…ç½®ï¼Œå·²æµ‹è¯• âœ…

## æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|---------|
| v1.3 | 2026-02-15 | æ–°å¢ï¼šå¸¸è§é”™è¯¯æ¡ˆä¾‹ï¼ˆæ¨¡å‹è°ƒç”¨é”™è¯¯ï¼‰ |
| v1.2 | 2026-02-15 | æ–°å¢ï¼šsessions_spawn vs cron è°ƒåº¦æ–¹å¼å¯¹æ¯” |
| v1.1 | 2026-02-15 | æ–°å¢ï¼šAPI Key é…ç½®é¡»çŸ¥ï¼ˆå¤šå‚å•† Key ç®¡ç†ï¼‰|
| v1.0 | 2026-02-15 | åˆå§‹ç‰ˆæœ¬ |

---

## å¸¸è§é”™è¯¯æ¡ˆä¾‹ â­ **2026-02-15 æ–°å¢**

### é”™è¯¯ï¼šè°ƒç”¨æœªé…ç½®çš„æ¨¡å‹ï¼ˆanthropic 401 é”™è¯¯ï¼‰

**é”™è¯¯è¡¨ç°**ï¼š
```
HTTP 401: Invalid Authentication
No API key found for provider "anthropic"
```

**é”™è¯¯åŸå› **ï¼š
- Skill ä¸­å®šä¹‰äº†é»˜è®¤æ¨¡å‹åˆ†é…è§„åˆ™ï¼ˆåˆ†æç±» â†’ Claudeï¼‰
- ä½†å®é™…é…ç½®ä¸­ **æ²¡æœ‰ anthropic provider çš„ API key**
- é”™è¯¯åœ°è°ƒç”¨äº† `openrouter/anthropic/claude-sonnet-4`ï¼Œä½† anthropic ä¸åœ¨é…ç½®çš„ providers ä¸­

**é”™è¯¯ä»£ç ç¤ºä¾‹**ï¼š
```json
// âŒ é”™è¯¯ï¼šç›´æ¥è°ƒç”¨ anthropic æ¨¡å‹
sessions_spawn:
  model: "openrouter/anthropic/claude-sonnet-4"  // æ²¡æœ‰ anthropic API key
  task: "åˆ†æ..."

// âŒ é”™è¯¯ï¼šcron ä»»åŠ¡ä¹ŸæŒ‡å®šäº† anthropic æ¨¡å‹
cron add:
  payload: { "model": "anthropic/claude-sonnet-4" }
```

**æ­£ç¡®åšæ³•**ï¼š
```json
// âœ… æ­£ç¡®ï¼šæŸ¥çœ‹ config.yaml ä¸­çš„é»˜è®¤æ¨¡å‹
// åˆ†æç±»ä»»åŠ¡é»˜è®¤ä½¿ç”¨ï¼šopenrouter/google/gemini-3-pro-preview
// ä»£ç ç±»ä»»åŠ¡é»˜è®¤ä½¿ç”¨ï¼šzai/glm-5

sessions_spawn:
  model: "openrouter/google/gemini-3-pro-preview"  // âœ… é€šè¿‡ OpenRouter è°ƒç”¨
  task: "åˆ†æ..."
```

**é˜²é”™æ£€æŸ¥æ¸…å•**ï¼š
```
è°ƒç”¨æ¨¡å‹å‰ç¡®è®¤ï¼š
1. è¯¥æ¨¡å‹çš„ provider æ˜¯å¦åœ¨ auth-profiles.json ä¸­æœ‰é…ç½®ï¼Ÿ
2. å¦‚æœæ²¡æœ‰ï¼Œèƒ½å¦é€šè¿‡ OpenRouter é—´æ¥è°ƒç”¨ï¼Ÿ
3. æŸ¥çœ‹ config.yaml ç¡®è®¤é»˜è®¤æ¨¡å‹åˆ†é…
```

**é…ç½®ä¸­çš„å¯ç”¨æ¨¡å‹**ï¼š
| ä»»åŠ¡ç±»å‹ | é»˜è®¤æ¨¡å‹ | å¯ç”¨æ€§ |
|---------|---------|--------|
| åˆ†æ | `openrouter/google/gemini-3-pro-preview` | âœ… å¯ç”¨ |
| ä»£ç  | `zai/glm-5` | âœ… å¯ç”¨ |
| æœç´¢ | `openrouter/sourceful/riverflow-v2-pro` | âœ… å¯ç”¨ |
| æ–‡æ¡£ | `openrouter/google/gemini-3-pro-preview` | âœ… å¯ç”¨ |
| Claude | `openrouter/anthropic/claude-sonnet-4` | âŒ æœªé…ç½® anthropic key |
