# 图片识别与视觉处理规范

## 描述
记录图片识别（Vision）功能的正确使用方法和常见陷阱。

## 核心概念区分

### 1. Description vs Vision

| 类型 | 来源 | 我能做什么 |
|------|------|-----------|
| **Description** | 系统自动生成的图片描述文本 | 只能读到文字描述，无法"看"图 |
| **Vision** | 模型直接解析图片内容 | 真正"看到"图片里的文字、图表、物体 |

**关键区别**：
```
系统 Description: "这是一张显示代码编辑器的截图"
Vision 解析: "代码编辑器显示 Markdown 文件，标题是 HomeWork_fixed.md，
            内容关于 Linux 系统编程，有用户权限和进程管理的章节..."
```

---

## ⚠️ 重要经验教训

### ❌ 严重错误（2026-02-17）

**事件经过**：
1. 用户发送图片，我收到了系统的 Description 文本
2. 我错误地说"只能看到描述文本，无法直接查看图片本身"
3. 实际上我**可以**通过 Vision 解析图片（kimi-k2.5 支持视觉）
4. 混淆了"有 Description"和"Vision 没工作"两种状态

**错误表述**：
> "我只能看到图片描述文本，无法直接查看图片本身"

**实际情况**：
- ✅ Description 文本一直都有（系统自动生成）
- ✅ Vision 功能当时应该可用（kimi-k2.5 支持）
- ❌ 我错误地认为自己"看不到图"

**根本原因**：
1. **概念混淆**：把"有 Description"当成"看不到图"
2. **状态误判**：没有验证 Vision 是否真的不可用
3. **沟通错误**：用"看不到"这种模糊表述，没有说明是 Description 还是 Vision

---

## 正确识别流程

### 收到图片时的标准回应

```
Step 1: 检查系统消息
        ↓
        是否包含 [Image] 标记和 Description?
        ↓ 是
Step 2: 尝试 Vision 解析
        ↓
        能否描述图片具体细节?
        ├─ 能 → ✅ Vision 正常工作
        └─ 不能 → ⚠️ Vision 可能未启用，告知用户

Step 3: 准确描述状态
        - ✅ "我能看到，图片显示..."
        - ⚠️ "我收到了图片，但视觉解析似乎未启用，
              只能看到系统描述：[Description内容]"
```

### 状态描述规范

| 实际情况 | 正确说法 | 错误说法 |
|---------|---------|---------|
| Vision 正常工作 | "我能看到图片，内容是..." | - |
| 只有 Description | "我能看到系统生成的图片描述，但无法解析具体细节" | "我看不到图片" |
| 图片完全丢失 | "我没有收到图片，请重新发送" | "我看不到图片" |

---

## 常见模型视觉支持状态

| 模型 | 视觉支持 | 备注 |
|------|---------|------|
| kimi-k2.5 | ✅ 支持 | 需确保 API 配置正确 |
| GPT-4o | ✅ 支持 | 官方版本支持良好 |
| Gemini Pro | ✅ 支持 | 视觉能力强 |
| Claude 3 | ✅ 支持 | 支持多图分析 |
| 纯文本模型 | ❌ 不支持 | 如 GPT-3.5 |

---

## 故障排查流程

### 用户说"你看不到图"时

1. **确认我收到了什么**
   - 检查是否有 [Image] 标记
   - 检查是否有 Description

2. **尝试 Vision 解析**
   - 直接描述图片内容
   - 如果能描述 → Vision 正常
   - 如果不能 → Vision 未启用

3. **准确反馈状态**
   - ❌ 不说"看不到"
   - ✅ 说"Vision 解析未启用，只能看到 Description"

4. **尝试修复**
   - 切换到支持 Vision 的模型
   - 检查 Gateway 配置
   - 重新发送图片

---

## 沟通最佳实践

### ✅ 正确示例

用户："你能看到这张图吗？"
```
能看到。图片显示的是一份 Linux 系统编程笔记，
包含 Kernel 架构分层：最底层是内核（管理硬件、进程），
中间是系统库层，最上面是应用层...
```

或（Vision 真的不可用时）：
```
我收到了图片，系统描述是：[Description 内容]。
但视觉解析功能似乎未启用，我无法读取图片中的具体文字细节。
建议切换到支持视觉的模型（如 kimi-k2.5 或 GPT-4o）再试。
```

### ❌ 错误示例

```
我只能看到图片描述文本，无法直接查看图片本身。
```
（问题：没有区分是 Description 还是 Vision，也没有尝试 Vision 解析）

---

## 防错口诀

> **"Description 是文字，Vision 才是看图"**
> 
> - 收到图片 ≠ 能看到图
> - Description 是系统的，Vision 才是我的
> - 不确定时先尝试解析，别急着说看不到

---

## 记录时间
- **创建时间**：2026-02-17
- **事件**：错误声称"看不到图"，实际 Vision 可用
- **教训**：准确区分 Description 和 Vision，不随意说"看不到"
